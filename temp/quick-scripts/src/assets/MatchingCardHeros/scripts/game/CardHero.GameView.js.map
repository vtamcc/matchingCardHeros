{"version":3,"sources":["assets\\MatchingCardHeros\\scripts\\game\\CardHero.GameView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { Global } from \"../CardHero.Global\";\r\nimport Card from \"./CardHero.Card\";\r\nimport Char from \"./CardHero.Char\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameView extends cc.Component {\r\n    public static instance: GameView = null;\r\n    @property(cc.Prefab)\r\n    prfCard: cc.Prefab = null;\r\n    @property(cc.SpriteFrame)\r\n    listSpfCards: cc.SpriteFrame[] = [];\r\n    @property(cc.Node)\r\n    nTableCards: cc.Node = null;\r\n    @property(cc.Label)\r\n    lbHpChar: cc.Label = null;\r\n    @property(cc.Label)\r\n    lbHpMonster: cc.Label = null;\r\n    @property(cc.Node)\r\n    nMaskClick: cc.Node = null;\r\n    @property(cc.Node)\r\n    nMaskLoadGame: cc.Node = null;\r\n    @property(cc.Node)\r\n    lbDameMonster: cc.Node = null;\r\n    isClick = false;\r\n    countClick = 0;\r\n    listIdCard = [0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12];\r\n    selectedCards = [];\r\n    dataCard = [];\r\n    @property(Char)\r\n    charArchers: Char = null;\r\n    @property(Char)\r\n    charFighter: Char = null;\r\n    @property(Char)\r\n    charMagic: Char = null;\r\n    rows = 5;\r\n    cols = 5;\r\n    spacing = 10;\r\n    private startX: number = -337;\r\n    private startY: number = 210;\r\n    private tileWidth: number = 135;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        GameView.instance = this;\r\n        this.listIdCard = this.shuffleArray(this.listIdCard);\r\n        this.maskLoadGame();\r\n        this.scheduleOnce(() => {\r\n            this.loadCards();\r\n\r\n        }, 1)\r\n\r\n        this.updateHpChar();\r\n        this.updateHpBagGuy();\r\n    }\r\n\r\n    maskLoadGame() {\r\n        this.nMaskLoadGame.active = true;\r\n        this.scheduleOnce(() => {\r\n            this.nMaskLoadGame.active = false;\r\n        }, 5)\r\n    }\r\n\r\n    loadCards() {\r\n        // for(let i = 0; i < 25; i++) {\r\n        //     let card = cc.instantiate(this.prfCard).getComponent(Card)\r\n        //     card.setData(this.listIdCard[i])\r\n        //     this.nTableCards.addChild(card.node);\r\n        // }\r\n        let idIndex = 0;\r\n\r\n        for (let i = 0; i < this.rows; i++) {\r\n            this.dataCard[i] = [];\r\n            for (let j = 0; j < this.cols; j++) {\r\n                if (idIndex >= this.listIdCard.length) break;\r\n\r\n                let card = cc.instantiate(this.prfCard).getComponent(Card);\r\n                card.setData(this.listIdCard[idIndex]);\r\n\r\n                this.nTableCards.addChild(card.node);\r\n                card.node.x = this.startX + j * this.tileWidth + this.tileWidth / 2;\r\n                card.node.y = this.startY - i * this.tileWidth + this.tileWidth / 2;\r\n                this.dataCard[i][j] = card;\r\n                idIndex++;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    gameOver() {\r\n        if (Global.hpChar == 0) {\r\n            console.log(\"Thua con me may roiiiiiiii\");\r\n        }\r\n    }\r\n    shuffleArray(array: number[]): number[] {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n        return array;\r\n    }\r\n\r\n    addSelectedCard(card: Card) {\r\n        if (this.selectedCards.length < 2) {\r\n            this.selectedCards.push(card);\r\n            if (this.selectedCards.length === 2) {\r\n                this.scheduleOnce(this.checkMatch.bind(this), 0.8);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    checkMatch() {\r\n        let [firstCard, secondCard] = this.selectedCards;\r\n        let doubleDame = false;\r\n        if (firstCard.idCard === 12 || secondCard.idCard === 12) {\r\n            doubleDame = true;\r\n            let multiplierCard = (firstCard.idCard === 12) ? secondCard : firstCard;\r\n            console.log(\"Id x2 \", multiplierCard.idCard);\r\n            this.selectAttack(multiplierCard.idCard, true)\r\n            firstCard.node.destroy();\r\n            secondCard.node.destroy();\r\n        } else if (firstCard.idCard === secondCard.idCard) {\r\n            this.selectAttack(firstCard.idCard, false);\r\n            firstCard.node.destroy();\r\n            secondCard.node.destroy();\r\n        } else {\r\n            this.effectDameBagGuy()\r\n            Global.hpChar--;\r\n            this.updateHpChar();\r\n            firstCard.flipCard();\r\n            secondCard.flipCard();\r\n            firstCard.isClicked = false;\r\n            secondCard.isClicked = false;\r\n            this.gameOver();\r\n        }\r\n\r\n\r\n        this.selectedCards = [];\r\n    }\r\n\r\n    selectAttack(id, isDoubleDame: boolean) {\r\n        switch (id) {\r\n            case 0:\r\n                console.log(\"Giap ne \");\r\n                break\r\n            case 1:\r\n                console.log(\"Mau ne \");\r\n                if (Global.hpChar >= 10) return;\r\n                else {\r\n                    Global.hpChar += 5;\r\n                    this.updateHpChar();\r\n                }\r\n                break\r\n            case 2:\r\n                console.log(\"Cung nho ban \");\r\n                Global.dameCharSmall *= (isDoubleDame) ? 2 : 1;\r\n                console.log(\"dame small \", Global.dameCharSmall);\r\n                Global.hpMonster -= Global.dameCharSmall;\r\n                this.charArchers.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 3:\r\n                console.log(\"Cung Tb ban \");\r\n                Global.dameCharNormal *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharNormal;\r\n                this.charArchers.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 4:\r\n                console.log(\"Cung To ban \");\r\n                this.charArchers.charAttack();\r\n                Global.dameCharBig *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharBig;\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 5:\r\n                console.log(\"KIem danh \");\r\n                Global.dameCharSmall *= (isDoubleDame) ? 2 : 1;\r\n                console.log(\"dame small \", Global.dameCharSmall);\r\n                Global.hpMonster -= Global.dameCharSmall;\r\n                this.charFighter.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 6:\r\n                console.log(\"KIem danh \");\r\n                Global.dameCharNormal *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharNormal;\r\n                this.charFighter.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 7:\r\n                console.log(\"KIem danh \");\r\n                Global.dameCharBig *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharBig;\r\n                this.charFighter.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 8:\r\n                console.log(\"KIem danh \");\r\n                Global.dameCharSmall *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharSmall;\r\n                console.log(\"Phap Su \");\r\n                this.charMagic.charAttack();\r\n                break;\r\n            case 9:\r\n                Global.dameCharNormal *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharNormal;\r\n                console.log(\"Phap Su \");\r\n                this.charMagic.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            case 10:\r\n                Global.dameCharBig *= (isDoubleDame) ? 2 : 1;\r\n                Global.hpMonster -= Global.dameCharBig;\r\n                console.log(\"Phap Su \");\r\n                this.charMagic.charAttack();\r\n                this.updateHpBagGuy();\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    effectDameBagGuy() {\r\n        this.lbDameMonster.active = true;\r\n        this.lbDameMonster.getComponent(cc.Label).string = \"-\" + Global.dameMonster;\r\n        cc.tween(this.lbDameMonster)\r\n            .to(0.8, { y: 200 })\r\n            .call(() => {\r\n                this.lbDameMonster.active = false;\r\n                this.lbDameMonster.y = -70;\r\n            }).start();\r\n    }\r\n    updateHpChar() {\r\n        this.lbHpChar.string = Global.hpChar + ' ';\r\n    }\r\n\r\n    updateHpBagGuy() {\r\n        this.lbHpMonster.string = Global.hpMonster + ' ';\r\n    }\r\n\r\n\r\n    // update (dt) {}\r\n}\r\n"]}